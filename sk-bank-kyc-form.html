<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>S.K Bank KYC Form</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: #e0f7fa; padding: 20px; }
    .container {
      max-width: 700px;
      margin: auto;
      background: #fff;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #0288d1;
      margin-bottom: 20px;
    }
    input, textarea {
      width: 100%;
      margin: 10px 0;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    label {
      margin-top: 10px;
      font-weight: bold;
      display: block;
    }
    button {
      background: #0288d1;
      color: white;
      padding: 12px;
      width: 100%;
      border: none;
      border-radius: 10px;
      margin-top: 20px;
      cursor: pointer;
      font-size: 16px;
    }
    .preview img {
      max-width: 100px;
      margin: 10px 10px 0 0;
      border-radius: 10px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>

<div class="container">
  <h2>S.K Bank KYC Form</h2>

  <label>Full Name</label>
  <input type="text" id="name" required>

  <label>Date of Birth</label>
  <input type="date" id="dob" required>

  <label>Account Number</label>
  <input type="text" id="accountNumber" required>

  <label>Customer Number</label>
  <input type="text" id="customerNumber" required>

  <label>Mobile Number</label>
  <input type="tel" id="mobile" required>

  <label>Email Address</label>
  <input type="email" id="email" required>

  <label>Permanent Address</label>
  <textarea id="address" required></textarea>

  <label>Aadhaar Card Number</label>
  <input type="text" id="aadhaar" required>

  <label>Aadhaar Card Update (If any)</label>
  <input type="text" id="aadhaarUpdate">

  <label>PAN Card Upload</label>
  <input type="file" id="panCard" accept="image/*" required>

  <label>Recent Photo</label>
  <input type="file" id="photo" accept="image/*" required>

  <label>Signature (Image)</label>
  <input type="file" id="signature" accept="image/*" required>

  <button onclick="submitKYC()">Submit KYC</button>

  <div class="preview" id="previewSection"></div>
</div>

<script>
  function getImageData(inputId) {
    const file = document.getElementById(inputId).files[0];
    return new Promise((resolve) => {
      const reader = new FileReader();
      reader.onload = function(e) { resolve(e.target.result); };
      if (file) reader.readAsDataURL(file);
      else resolve("");
    });
  }

  async function submitKYC() {
    const data = {
      name: document.getElementById("name").value,
      dob: document.getElementById("dob").value,
      accountNumber: document.getElementById("accountNumber").value,
      customerNumber: document.getElementById("customerNumber").value,
      mobile: document.getElementById("mobile").value,
      email: document.getElementById("email").value,
      address: document.getElementById("address").value,
      aadhaar: document.getElementById("aadhaar").value,
      aadhaarUpdate: document.getElementById("aadhaarUpdate").value,
      panCard: await getImageData("panCard"),
      photo: await getImageData("photo"),
      signature: await getImageData("signature"),
    };

    localStorage.setItem("kycData", JSON.stringify(data));
    alert("âœ… KYC submitted successfully!");

    showPreview(data);
  }

  function showPreview(data) {
    const section = document.getElementById("previewSection");
    section.innerHTML = `
      <h3>Preview:</h3>
      <p><strong>Name:</strong> ${data.name}</p>
      <p><strong>DOB:</strong> ${data.dob}</p>
      <p><strong>Account Number:</strong> ${data.accountNumber}</p>
      <p><strong>Customer Number:</strong> ${data.customerNumber}</p>
      <p><strong>Mobile:</strong> ${data.mobile}</p>
      <p><strong>Email:</strong> ${data.email}</p>
      <p><strong>Address:</strong> ${data.address}</p>
      <p><strong>Aadhaar:</strong> ${data.aadhaar}</p>
      <p><strong>Aadhaar Update:</strong> ${data.aadhaarUpdate}</p>
      <p><strong>PAN Card:</strong><br><img src="${data.panCard}" /></p>
      <p><strong>Photo:</strong><br><img src="${data.photo}" /></p>
      <p><strong>Signature:</strong><br><img src="${data.signature}" /></p>
    `;
  }

  // Optional: Load previously saved data
  window.onload = () => {
    const saved = localStorage.getItem("kycData");
    if (saved) showPreview(JSON.parse(saved));
  };
</script>

</body>
</html>
